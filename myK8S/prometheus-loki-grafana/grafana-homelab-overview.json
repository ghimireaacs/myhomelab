{
  "__inputs": [
    {
      "name": "DS_PROMETHEUS",
      "label": "Prometheus",
      "type": "datasource",
      "pluginId": "prometheus",
      "pluginName": "Prometheus"
    }
  ],
  "__requires": [
    { "type": "datasource", "id": "prometheus", "name": "Prometheus", "version": "1.0.0" },
    { "type": "panel", "id": "stat", "name": "Stat", "version": "" },
    { "type": "panel", "id": "timeseries", "name": "Time series", "version": "" },
    { "type": "panel", "id": "bargauge", "name": "Bar gauge", "version": "" },
    { "type": "grafana", "id": "grafana", "name": "Grafana", "version": "10.0.0" }
  ],
  "title": "Homelab Overview",
  "uid": "homelab-overview",
  "schemaVersion": 38,
  "version": 4,
  "refresh": "30s",
  "time": { "from": "now-1h", "to": "now" },
  "timezone": "browser",
  "panels": [

    {
      "id": 1,
      "type": "row",
      "title": "CPU Usage",
      "collapsed": false,
      "gridPos": { "x": 0, "y": 0, "w": 24, "h": 1 }
    },

    {
      "id": 2, "type": "stat", "title": "ghostgpu",
      "gridPos": { "x": 0, "y": 1, "w": 4, "h": 5 },
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "options": {
        "reduceOptions": { "calcs": ["lastNotNull"] }, "textMode": "auto",
        "colorMode": "background", "graphMode": "area", "justifyMode": "center",
        "text": { "valueSize": 44, "titleSize": 14 }
      },
      "fieldConfig": {
        "defaults": {
          "unit": "percent", "decimals": 1, "min": 0, "max": 100,
          "color": { "mode": "thresholds" },
          "thresholds": { "mode": "absolute", "steps": [
            { "color": "#00C853", "value": null },
            { "color": "#FF6D00", "value": 60 },
            { "color": "#D50000", "value": 80 }
          ]}
        }
      },
      "targets": [{ "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
        "expr": "100 - (avg(rate(node_cpu_seconds_total{mode=\"idle\", instance=\"10.10.10.111:9100\"}[5m])) * 100)",
        "legendFormat": "CPU %", "refId": "A" }]
    },

    {
      "id": 3, "type": "stat", "title": "nextcloud",
      "gridPos": { "x": 4, "y": 1, "w": 4, "h": 5 },
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "options": {
        "reduceOptions": { "calcs": ["lastNotNull"] }, "textMode": "auto",
        "colorMode": "background", "graphMode": "area", "justifyMode": "center",
        "text": { "valueSize": 44, "titleSize": 14 }
      },
      "fieldConfig": {
        "defaults": {
          "unit": "percent", "decimals": 1, "min": 0, "max": 100,
          "color": { "mode": "thresholds" },
          "thresholds": { "mode": "absolute", "steps": [
            { "color": "#00C853", "value": null },
            { "color": "#FF6D00", "value": 60 },
            { "color": "#D50000", "value": 80 }
          ]}
        }
      },
      "targets": [{ "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
        "expr": "100 - (avg(rate(node_cpu_seconds_total{mode=\"idle\", instance=\"10.10.10.113:9100\"}[5m])) * 100)",
        "legendFormat": "CPU %", "refId": "A" }]
    },

    {
      "id": 4, "type": "stat", "title": "utility",
      "gridPos": { "x": 8, "y": 1, "w": 4, "h": 5 },
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "options": {
        "reduceOptions": { "calcs": ["lastNotNull"] }, "textMode": "auto",
        "colorMode": "background", "graphMode": "area", "justifyMode": "center",
        "text": { "valueSize": 44, "titleSize": 14 }
      },
      "fieldConfig": {
        "defaults": {
          "unit": "percent", "decimals": 1, "min": 0, "max": 100,
          "color": { "mode": "thresholds" },
          "thresholds": { "mode": "absolute", "steps": [
            { "color": "#00C853", "value": null },
            { "color": "#FF6D00", "value": 60 },
            { "color": "#D50000", "value": 80 }
          ]}
        }
      },
      "targets": [{ "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
        "expr": "100 - (avg(rate(node_cpu_seconds_total{mode=\"idle\", instance=\"10.10.10.114:9100\"}[5m])) * 100)",
        "legendFormat": "CPU %", "refId": "A" }]
    },

    {
      "id": 5, "type": "stat", "title": "ghostmedia",
      "gridPos": { "x": 12, "y": 1, "w": 4, "h": 5 },
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "options": {
        "reduceOptions": { "calcs": ["lastNotNull"] }, "textMode": "auto",
        "colorMode": "background", "graphMode": "area", "justifyMode": "center",
        "text": { "valueSize": 44, "titleSize": 14 }
      },
      "fieldConfig": {
        "defaults": {
          "unit": "percent", "decimals": 1, "min": 0, "max": 100,
          "color": { "mode": "thresholds" },
          "thresholds": { "mode": "absolute", "steps": [
            { "color": "#00C853", "value": null },
            { "color": "#FF6D00", "value": 60 },
            { "color": "#D50000", "value": 80 }
          ]}
        }
      },
      "targets": [{ "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
        "expr": "100 - (avg(rate(node_cpu_seconds_total{mode=\"idle\", instance=\"10.10.10.115:9100\"}[5m])) * 100)",
        "legendFormat": "CPU %", "refId": "A" }]
    },

    {
      "id": 6, "type": "stat", "title": "kubeone",
      "gridPos": { "x": 16, "y": 1, "w": 4, "h": 5 },
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "options": {
        "reduceOptions": { "calcs": ["lastNotNull"] }, "textMode": "auto",
        "colorMode": "background", "graphMode": "area", "justifyMode": "center",
        "text": { "valueSize": 44, "titleSize": 14 }
      },
      "fieldConfig": {
        "defaults": {
          "unit": "percent", "decimals": 1, "min": 0, "max": 100,
          "color": { "mode": "thresholds" },
          "thresholds": { "mode": "absolute", "steps": [
            { "color": "#00C853", "value": null },
            { "color": "#FF6D00", "value": 60 },
            { "color": "#D50000", "value": 80 }
          ]}
        }
      },
      "targets": [{ "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
        "expr": "100 - (avg(rate(node_cpu_seconds_total{mode=\"idle\", instance=\"10.10.10.100:9100\"}[5m])) * 100)",
        "legendFormat": "CPU %", "refId": "A" }]
    },

    {
      "id": 7, "type": "stat", "title": "kubetwo",
      "gridPos": { "x": 20, "y": 1, "w": 4, "h": 5 },
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "options": {
        "reduceOptions": { "calcs": ["lastNotNull"] }, "textMode": "auto",
        "colorMode": "background", "graphMode": "area", "justifyMode": "center",
        "text": { "valueSize": 44, "titleSize": 14 }
      },
      "fieldConfig": {
        "defaults": {
          "unit": "percent", "decimals": 1, "min": 0, "max": 100,
          "color": { "mode": "thresholds" },
          "thresholds": { "mode": "absolute", "steps": [
            { "color": "#00C853", "value": null },
            { "color": "#FF6D00", "value": 60 },
            { "color": "#D50000", "value": 80 }
          ]}
        }
      },
      "targets": [{ "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
        "expr": "100 - (avg(rate(node_cpu_seconds_total{mode=\"idle\", instance=\"10.10.10.101:9100\"}[5m])) * 100)",
        "legendFormat": "CPU %", "refId": "A" }]
    },

    {
      "id": 8,
      "type": "row",
      "title": "Memory Usage",
      "collapsed": false,
      "gridPos": { "x": 0, "y": 6, "w": 24, "h": 1 }
    },

    {
      "id": 9, "type": "stat", "title": "ghostgpu",
      "gridPos": { "x": 0, "y": 7, "w": 4, "h": 5 },
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "options": {
        "reduceOptions": { "calcs": ["lastNotNull"] }, "textMode": "auto",
        "colorMode": "background", "graphMode": "area", "justifyMode": "center",
        "text": { "valueSize": 44, "titleSize": 14 }
      },
      "fieldConfig": {
        "defaults": {
          "unit": "percent", "decimals": 1, "min": 0, "max": 100,
          "color": { "mode": "thresholds" },
          "thresholds": { "mode": "absolute", "steps": [
            { "color": "#00BFA5", "value": null },
            { "color": "#FFAB00", "value": 70 },
            { "color": "#DD2C00", "value": 85 }
          ]}
        }
      },
      "targets": [{ "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
        "expr": "100 - (node_memory_MemAvailable_bytes{instance=\"10.10.10.111:9100\"} / node_memory_MemTotal_bytes{instance=\"10.10.10.111:9100\"} * 100)",
        "legendFormat": "RAM %", "refId": "A" }]
    },

    {
      "id": 10, "type": "stat", "title": "nextcloud",
      "gridPos": { "x": 4, "y": 7, "w": 4, "h": 5 },
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "options": {
        "reduceOptions": { "calcs": ["lastNotNull"] }, "textMode": "auto",
        "colorMode": "background", "graphMode": "area", "justifyMode": "center",
        "text": { "valueSize": 44, "titleSize": 14 }
      },
      "fieldConfig": {
        "defaults": {
          "unit": "percent", "decimals": 1, "min": 0, "max": 100,
          "color": { "mode": "thresholds" },
          "thresholds": { "mode": "absolute", "steps": [
            { "color": "#00BFA5", "value": null },
            { "color": "#FFAB00", "value": 70 },
            { "color": "#DD2C00", "value": 85 }
          ]}
        }
      },
      "targets": [{ "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
        "expr": "100 - (node_memory_MemAvailable_bytes{instance=\"10.10.10.113:9100\"} / node_memory_MemTotal_bytes{instance=\"10.10.10.113:9100\"} * 100)",
        "legendFormat": "RAM %", "refId": "A" }]
    },

    {
      "id": 11, "type": "stat", "title": "utility",
      "gridPos": { "x": 8, "y": 7, "w": 4, "h": 5 },
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "options": {
        "reduceOptions": { "calcs": ["lastNotNull"] }, "textMode": "auto",
        "colorMode": "background", "graphMode": "area", "justifyMode": "center",
        "text": { "valueSize": 44, "titleSize": 14 }
      },
      "fieldConfig": {
        "defaults": {
          "unit": "percent", "decimals": 1, "min": 0, "max": 100,
          "color": { "mode": "thresholds" },
          "thresholds": { "mode": "absolute", "steps": [
            { "color": "#00BFA5", "value": null },
            { "color": "#FFAB00", "value": 70 },
            { "color": "#DD2C00", "value": 85 }
          ]}
        }
      },
      "targets": [{ "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
        "expr": "100 - (node_memory_MemAvailable_bytes{instance=\"10.10.10.114:9100\"} / node_memory_MemTotal_bytes{instance=\"10.10.10.114:9100\"} * 100)",
        "legendFormat": "RAM %", "refId": "A" }]
    },

    {
      "id": 12, "type": "stat", "title": "ghostmedia",
      "gridPos": { "x": 12, "y": 7, "w": 4, "h": 5 },
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "options": {
        "reduceOptions": { "calcs": ["lastNotNull"] }, "textMode": "auto",
        "colorMode": "background", "graphMode": "area", "justifyMode": "center",
        "text": { "valueSize": 44, "titleSize": 14 }
      },
      "fieldConfig": {
        "defaults": {
          "unit": "percent", "decimals": 1, "min": 0, "max": 100,
          "color": { "mode": "thresholds" },
          "thresholds": { "mode": "absolute", "steps": [
            { "color": "#00BFA5", "value": null },
            { "color": "#FFAB00", "value": 70 },
            { "color": "#DD2C00", "value": 85 }
          ]}
        }
      },
      "targets": [{ "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
        "expr": "100 - (node_memory_MemAvailable_bytes{instance=\"10.10.10.115:9100\"} / node_memory_MemTotal_bytes{instance=\"10.10.10.115:9100\"} * 100)",
        "legendFormat": "RAM %", "refId": "A" }]
    },

    {
      "id": 13, "type": "stat", "title": "kubeone",
      "gridPos": { "x": 16, "y": 7, "w": 4, "h": 5 },
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "options": {
        "reduceOptions": { "calcs": ["lastNotNull"] }, "textMode": "auto",
        "colorMode": "background", "graphMode": "area", "justifyMode": "center",
        "text": { "valueSize": 44, "titleSize": 14 }
      },
      "fieldConfig": {
        "defaults": {
          "unit": "percent", "decimals": 1, "min": 0, "max": 100,
          "color": { "mode": "thresholds" },
          "thresholds": { "mode": "absolute", "steps": [
            { "color": "#00BFA5", "value": null },
            { "color": "#FFAB00", "value": 70 },
            { "color": "#DD2C00", "value": 85 }
          ]}
        }
      },
      "targets": [{ "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
        "expr": "100 - (node_memory_MemAvailable_bytes{instance=\"10.10.10.100:9100\"} / node_memory_MemTotal_bytes{instance=\"10.10.10.100:9100\"} * 100)",
        "legendFormat": "RAM %", "refId": "A" }]
    },

    {
      "id": 14, "type": "stat", "title": "kubetwo",
      "gridPos": { "x": 20, "y": 7, "w": 4, "h": 5 },
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "options": {
        "reduceOptions": { "calcs": ["lastNotNull"] }, "textMode": "auto",
        "colorMode": "background", "graphMode": "area", "justifyMode": "center",
        "text": { "valueSize": 44, "titleSize": 14 }
      },
      "fieldConfig": {
        "defaults": {
          "unit": "percent", "decimals": 1, "min": 0, "max": 100,
          "color": { "mode": "thresholds" },
          "thresholds": { "mode": "absolute", "steps": [
            { "color": "#00BFA5", "value": null },
            { "color": "#FFAB00", "value": 70 },
            { "color": "#DD2C00", "value": 85 }
          ]}
        }
      },
      "targets": [{ "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
        "expr": "100 - (node_memory_MemAvailable_bytes{instance=\"10.10.10.101:9100\"} / node_memory_MemTotal_bytes{instance=\"10.10.10.101:9100\"} * 100)",
        "legendFormat": "RAM %", "refId": "A" }]
    },

    {
      "id": 15,
      "type": "row",
      "title": "Activity",
      "collapsed": false,
      "gridPos": { "x": 0, "y": 12, "w": 24, "h": 1 }
    },

    {
      "id": 16,
      "type": "timeseries",
      "title": "CPU Usage — All Hosts",
      "gridPos": { "x": 0, "y": 13, "w": 24, "h": 9 },
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "options": {
        "tooltip": { "mode": "multi", "sort": "desc" },
        "legend": { "displayMode": "table", "placement": "bottom", "calcs": ["lastNotNull", "max", "mean"] }
      },
      "fieldConfig": {
        "defaults": {
          "unit": "percent",
          "decimals": 1,
          "custom": {
            "lineWidth": 3,
            "fillOpacity": 22,
            "gradientMode": "opacity",
            "lineInterpolation": "smooth",
            "spanNulls": false,
            "showPoints": "never"
          },
          "color": { "mode": "fixed", "fixedColor": "#ffffff" }
        },
        "overrides": [
          { "matcher": { "id": "byName", "options": "ghostgpu" },
            "properties": [{ "id": "color", "value": { "fixedColor": "#FF1744", "mode": "fixed" } }] },
          { "matcher": { "id": "byName", "options": "nextcloud" },
            "properties": [{ "id": "color", "value": { "fixedColor": "#00E676", "mode": "fixed" } }] },
          { "matcher": { "id": "byName", "options": "utility" },
            "properties": [{ "id": "color", "value": { "fixedColor": "#2979FF", "mode": "fixed" } }] },
          { "matcher": { "id": "byName", "options": "ghostmedia" },
            "properties": [{ "id": "color", "value": { "fixedColor": "#D500F9", "mode": "fixed" } }] },
          { "matcher": { "id": "byName", "options": "kubeone" },
            "properties": [{ "id": "color", "value": { "fixedColor": "#FF9100", "mode": "fixed" } }] },
          { "matcher": { "id": "byName", "options": "kubetwo" },
            "properties": [{ "id": "color", "value": { "fixedColor": "#00E5FF", "mode": "fixed" } }] }
        ]
      },
      "targets": [
        { "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
          "expr": "100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\", instance=\"10.10.10.111:9100\"}[5m])) * 100)",
          "legendFormat": "ghostgpu", "refId": "A" },
        { "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
          "expr": "100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\", instance=\"10.10.10.113:9100\"}[5m])) * 100)",
          "legendFormat": "nextcloud", "refId": "B" },
        { "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
          "expr": "100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\", instance=\"10.10.10.114:9100\"}[5m])) * 100)",
          "legendFormat": "utility", "refId": "C" },
        { "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
          "expr": "100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\", instance=\"10.10.10.115:9100\"}[5m])) * 100)",
          "legendFormat": "ghostmedia", "refId": "D" },
        { "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
          "expr": "100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\", instance=\"10.10.10.100:9100\"}[5m])) * 100)",
          "legendFormat": "kubeone", "refId": "E" },
        { "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
          "expr": "100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\", instance=\"10.10.10.101:9100\"}[5m])) * 100)",
          "legendFormat": "kubetwo", "refId": "F" }
      ]
    },

    {
      "id": 17,
      "type": "timeseries",
      "title": "Network Traffic — All Hosts",
      "gridPos": { "x": 0, "y": 22, "w": 14, "h": 9 },
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "options": {
        "tooltip": { "mode": "multi", "sort": "desc" },
        "legend": { "displayMode": "table", "placement": "bottom", "calcs": ["lastNotNull"] }
      },
      "fieldConfig": {
        "defaults": {
          "unit": "Bps",
          "custom": {
            "lineWidth": 2,
            "fillOpacity": 12,
            "gradientMode": "opacity",
            "lineInterpolation": "smooth",
            "showPoints": "never"
          },
          "color": { "mode": "fixed", "fixedColor": "#ffffff" }
        },
        "overrides": [
          { "matcher": { "id": "byName", "options": "ghostgpu ↑" },   "properties": [{ "id": "color", "value": { "fixedColor": "#FF1744", "mode": "fixed" } }] },
          { "matcher": { "id": "byName", "options": "ghostgpu ↓" },   "properties": [{ "id": "color", "value": { "fixedColor": "#FF6090", "mode": "fixed" } }] },
          { "matcher": { "id": "byName", "options": "nextcloud ↑" },  "properties": [{ "id": "color", "value": { "fixedColor": "#00E676", "mode": "fixed" } }] },
          { "matcher": { "id": "byName", "options": "nextcloud ↓" },  "properties": [{ "id": "color", "value": { "fixedColor": "#69F0AE", "mode": "fixed" } }] },
          { "matcher": { "id": "byName", "options": "utility ↑" },    "properties": [{ "id": "color", "value": { "fixedColor": "#2979FF", "mode": "fixed" } }] },
          { "matcher": { "id": "byName", "options": "utility ↓" },    "properties": [{ "id": "color", "value": { "fixedColor": "#82B1FF", "mode": "fixed" } }] },
          { "matcher": { "id": "byName", "options": "ghostmedia ↑" }, "properties": [{ "id": "color", "value": { "fixedColor": "#D500F9", "mode": "fixed" } }] },
          { "matcher": { "id": "byName", "options": "ghostmedia ↓" }, "properties": [{ "id": "color", "value": { "fixedColor": "#EA80FC", "mode": "fixed" } }] },
          { "matcher": { "id": "byName", "options": "kubeone ↑" },    "properties": [{ "id": "color", "value": { "fixedColor": "#FF9100", "mode": "fixed" } }] },
          { "matcher": { "id": "byName", "options": "kubeone ↓" },    "properties": [{ "id": "color", "value": { "fixedColor": "#FFD180", "mode": "fixed" } }] },
          { "matcher": { "id": "byName", "options": "kubetwo ↑" },    "properties": [{ "id": "color", "value": { "fixedColor": "#00E5FF", "mode": "fixed" } }] },
          { "matcher": { "id": "byName", "options": "kubetwo ↓" },    "properties": [{ "id": "color", "value": { "fixedColor": "#84FFFF", "mode": "fixed" } }] }
        ]
      },
      "targets": [
        { "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
          "expr": "sum(rate(node_network_receive_bytes_total{instance=\"10.10.10.111:9100\", device!=\"lo\"}[5m]))",
          "legendFormat": "ghostgpu ↑", "refId": "A" },
        { "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
          "expr": "sum(rate(node_network_transmit_bytes_total{instance=\"10.10.10.111:9100\", device!=\"lo\"}[5m]))",
          "legendFormat": "ghostgpu ↓", "refId": "B" },
        { "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
          "expr": "sum(rate(node_network_receive_bytes_total{instance=\"10.10.10.113:9100\", device!=\"lo\"}[5m]))",
          "legendFormat": "nextcloud ↑", "refId": "C" },
        { "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
          "expr": "sum(rate(node_network_transmit_bytes_total{instance=\"10.10.10.113:9100\", device!=\"lo\"}[5m]))",
          "legendFormat": "nextcloud ↓", "refId": "D" },
        { "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
          "expr": "sum(rate(node_network_receive_bytes_total{instance=\"10.10.10.114:9100\", device!=\"lo\"}[5m]))",
          "legendFormat": "utility ↑", "refId": "E" },
        { "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
          "expr": "sum(rate(node_network_transmit_bytes_total{instance=\"10.10.10.114:9100\", device!=\"lo\"}[5m]))",
          "legendFormat": "utility ↓", "refId": "F" },
        { "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
          "expr": "sum(rate(node_network_receive_bytes_total{instance=\"10.10.10.115:9100\", device!=\"lo\"}[5m]))",
          "legendFormat": "ghostmedia ↑", "refId": "G" },
        { "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
          "expr": "sum(rate(node_network_transmit_bytes_total{instance=\"10.10.10.115:9100\", device!=\"lo\"}[5m]))",
          "legendFormat": "ghostmedia ↓", "refId": "H" },
        { "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
          "expr": "sum(rate(node_network_receive_bytes_total{instance=\"10.10.10.100:9100\", device!=\"lo\"}[5m]))",
          "legendFormat": "kubeone ↑", "refId": "I" },
        { "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
          "expr": "sum(rate(node_network_transmit_bytes_total{instance=\"10.10.10.100:9100\", device!=\"lo\"}[5m]))",
          "legendFormat": "kubeone ↓", "refId": "J" },
        { "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
          "expr": "sum(rate(node_network_receive_bytes_total{instance=\"10.10.10.101:9100\", device!=\"lo\"}[5m]))",
          "legendFormat": "kubetwo ↑", "refId": "K" },
        { "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
          "expr": "sum(rate(node_network_transmit_bytes_total{instance=\"10.10.10.101:9100\", device!=\"lo\"}[5m]))",
          "legendFormat": "kubetwo ↓", "refId": "L" }
      ]
    },

    {
      "id": 18,
      "type": "bargauge",
      "title": "K8s Pods by Namespace",
      "gridPos": { "x": 14, "y": 22, "w": 10, "h": 9 },
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "options": {
        "reduceOptions": { "calcs": ["lastNotNull"] },
        "orientation": "horizontal",
        "displayMode": "gradient",
        "valueMode": "color",
        "showUnfilled": true,
        "minVizWidth": 0,
        "minVizHeight": 10
      },
      "fieldConfig": {
        "defaults": {
          "unit": "short",
          "min": 0,
          "color": { "mode": "palette-classic" },
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "#2979FF", "value": null },
              { "color": "#00E676", "value": 1 },
              { "color": "#D500F9", "value": 15 }
            ]
          }
        }
      },
      "targets": [
        { "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
          "expr": "count by (namespace) (kube_pod_info{namespace!=\"\"})",
          "legendFormat": "{{namespace}}", "instant": true, "refId": "A" }
      ]
    }

  ]
}
